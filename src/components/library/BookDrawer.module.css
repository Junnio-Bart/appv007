/* ===== VARI√ÅVEIS DE CONTROLE (s√≥ CSS) ===== */
:root{
  /* largura/altura padr√£o do Drawer */
  --drawer-w: 640px;
  --drawer-h: 82vh;

  /* tamanho da capa */
  --cover: 156px;
}
/* ===== FLOTE E DIMENS√ïES GERAIS ===== */
.backdrop{
  position:fixed; inset:0;
  background:rgba(0,0,0,.45);
  z-index:9900;
}

/* tudo control√°vel s√≥ pelo CSS aqui üëá */
.drawer{
  /* üîß KNOBS (edite s√≥ estas tr√™s linhas) */
  --drawer-w: 340px;     /* largura */
  --drawer-h: 82vh;      /* altura  */
  --cover:    120px;     /* tamanho da capa */

  position: fixed;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);

  width: var(--drawer-w);
  height: var(--drawer-h);
  max-width: 96vw;
  max-height: 92vh;

  background:#0f172a;
  border:1px solid #22314d;
  border-radius:18px;
  box-shadow: 0 18px 56px rgba(0,0,0,.45);
  z-index:9901;

  display:flex; flex-direction:column;
  overflow:hidden; /* cantos arredondados clipam conte√∫do */

  --note-title-size: 14px;   /* data/hora */
  --note-badges-size: 12px;  /* p√°gs/min */
  --note-stars-size: 16px;   /* estrelas da nota */

  --num-w: 55px;
}

/* ===== HEADER ===== */
.header{ padding:14px 16px 10px; border-bottom:1px solid #22314d; }
.bookTitle{ 
  margin:0 0 10px; 
  font-size:26px; 
  font-weight:780; 
  letter-spacing:-.2px; 
}
.headRow{
  display:grid;
  grid-template-columns: auto minmax(0,1fr);
  gap:12px;
  align-items:start;
}

.coverBtn{ padding:0; border:0; background:transparent; cursor:pointer; }
.cover{ width:var(--cover); height:calc(var(--cover) * 1.33); object-fit:cover; border-radius:12px; border:1px solid #22314d; }

.metaBox{ 
  display:flex; 
  flex-direction:column; 
  gap:6px; 
  min-width:0;            /* üëà importante */
}
.authorLine{
  display:flex; 
  align-items:center; 
  gap:8px; 
  flex-wrap:wrap;         /* üëà permite quebra */
}
.author{
  opacity:.95;
  font-size:16px;
  font-style:italic;
  color:#7ca6ff;
  word-break:break-word;  /* üëà nomes grandes quebram */
}
.smallLink{
  background:transparent; 
  border:0; 
  color:#7bb1ff; 
  cursor:pointer; 
  font-size:.9rem;
  padding:0;
}
.authorInput{
  background:#0b1326; 
  border:1px solid #22314d; 
  color:#fff;
  border-radius:8px; 
  padding:6px 8px; 
  font:inherit; 
  width:min(150px, 60vw);
}

/* base da linha */
.metaLine{
  display: flex;
  align-items: center;
  gap: 8px;
  
}

/* valores comuns */
.metaLine .value{ font-weight: 800; letter-spacing: .1px; }
.metaLine .label{ opacity: .85; }
.metaLine .sep{ opacity: .7; }

/* ===== P√ÅGINAS ===== */
.pagesLine{
  /* knobs (f√°ceis de trocar) */
  --pages-color: #60ffa8;   /* verde claro */
  --pages-size: 16px;       /* tamanho do n√∫mero */
  --pages-total: #cfe7da;   /* cor do total, se quiser diferenciar */

  display:flex;
  align-items:center;
  gap:8px;
  flex-wrap:nowrap;         /* padr√£o: n√£o quebra */
}
/* separador sempre vis√≠vel e com respiro */
.pagesLine .sep{
  opacity: .85;
  margin: 0 6px;
  color:#fff;
  font-size: 18px
}
.pagesLine .value{ 
  color: var(--pages-color); 
  font-size: var(--pages-size); 
  font-weight: 800;
  letter-spacing: .1px;
}
.pagesLine .total{ 
  color: var(--pages-total); 
  font-size: var(--pages-size);
  font-weight: 700;
}
/* o r√≥tulo vai para a linha de baixo quando quebrar */
.pagesLine .label{
  flex-basis: 100%;           /* ocupa a linha toda ao quebrar */
  margin-left: 2px;
  margin-top: 4px;
  opacity: .85;
}
.pagesLine .value,
.pagesLine .total{
  font-weight:800;          /* total agora com o mesmo peso/tamanho do lido */
  font-size: var(--pages-size);
}
/* enquanto EDITANDO: permita quebrar e empurre o r√≥tulo para a linha de baixo */
.pagesLine.editing{
  flex-wrap: wrap;                       /* pode quebrar */
}
.pagesLine.editing .label{
  flex-basis: 100%;
  margin-left: 0;
  margin-top: 4px;
  margin:0 0 5px;
}

/* opcional: ‚Äúpill‚Äù de fundo para p√°ginas */
.pagesLine.pill{
  background: #0b1326;
  border: 1px solid #22314d;
  border-radius: 10px;
  padding: 4px 8px;
}

/* ===== TEMPO ===== */
.timeLine{
  /* knobs */
  --time-color: #7aa5ff;    /* azul */
  --time-size: 16px;
}
.timeLine .value{ color: var(--time-color); font-size: var(--time-size); }
.timeLine .label{ margin-left: 2px; }

/* opcional: ‚Äúpill‚Äù de fundo para tempo */
.timeLine.pill{
  background: #0b1326;
  border: 1px solid #22314d;
  border-radius: 10px;
  padding: 4px 8px;
}


.avgNum{ 
  opacity:.78; 
  margin-left:6px; 
  font-size: 14px; 
}

.titleLine{
  display:flex; align-items:center; gap:10px; margin:0 0 10px;
}
.titleInput{
  background:#0b1326; border:1px solid #22314d; color:#fff;
  border-radius:10px; padding:8px 10px; font:inherit;
  width:min(520px, 70vw);
}

/* ===== MEIA-ESTRELA ===== */
.starRow{ 
  display:inline-flex; 
  gap:7px; 
}
.starWrap{ 
  position:relative; 
  display:inline-block; 
  width:18px; 
  height:26px; 
}
.star{ position:absolute; 
  inset:0; 
  line-height:18px; 
  font-size:25px; 
}
.base{ color:rgba(255,255,255,.32); }
.fill{ color:#FFD76A; overflow:hidden; white-space:nowrap; }

/* ===== TABS ===== */
.tabs{ display:flex; gap:8px; padding:10px 16px; border-bottom:1px solid #22314d; }
.tab{ background:#0b1326; border:1px solid #22314d; color:#fff; border-radius:10px; padding:6px 10px; }
.active{ background:#13254a; }

/* ===== LISTA ===== */
.list{ flex:1; overflow:auto; padding:12px 16px 24px; }
.empty{ opacity:.7; }
.item{ border:1px solid #22314d; border-radius:12px; padding:10px; margin-bottom:10px; background:#0b1326; }
.itemHead{ 
  display:flex; 
  align-items:center; 
  gap:8px; 
  margin-bottom:6px; 
  font-size:14px; 
  opacity:.9; 
}
.badge{ background:#091326; border:1px solid #22314d; border-radius:8px; padding:2px 6px; }
.starsLine{ 
  margin-left:auto; 
  letter-spacing:1px; 
  font-size: 12px;
}

/* clamp 2 linhas com ‚Äú‚Ä¶‚Äù */
.text { 
  margin:4px 0 8px; 
  white-space:pre-wrap; 
  cursor: pointer;                 /* üëà */
}
.text.isEditing { cursor: text; }  
.clamp2{
  display:-webkit-box;
  -webkit-line-clamp:2;
  -webkit-box-orient:vertical;
  overflow:hidden;
}

.note{ width:100%; background:#091326; color:#fff; border:1px solid #22314d; border-radius:10px; padding:8px; }


/* ===== BOT√ïES ===== */
.row{ display:flex; gap:8px; justify-content:flex-end; }
.btnGhost{ background:#0b1326; border:1px solid #22314d; color:#fff; border-radius:10px; padding:6px 10px; }
.btnPrimary{ background:#1761d0; border:1px solid #1a4f9c; color:#fff; border-radius:10px; padding:6px 12px; }
.btnDanger{ background:#7a1a2a; border:1px solid #9c2c3c; color:#fff; border-radius:10px; padding:6px 10px; }


.footer{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding: 10px 12px;
  border-top: 1px solid var(--line-weak, rgba(255,255,255,.08));
}
.btnClose{ background:#13254a; border:1px solid #1a3a72; color:#fff; border-radius:10px; padding:6px 12px; }
.date{ opacity:.85; }

@media (max-width: 720px){
  :root{
    --drawer-w: min(96vw, 560px);
    --drawer-h: calc(100dvh - 24px);
    --cover: 140px;
  }
}
@media (max-width: 420px){
  :root{
    --drawer-w: 94vw;
    --drawer-h: calc(100dvh - 16px);
    --cover: 120px;
  }
  .title{ font-size:20px; }
}
button, .btnGhost, .btnPrimary, .btnDanger, .btnClose,
.tab, .smallLink, .coverBtn {
  cursor: pointer;
}

/* knobs locais (pode ajustar √† vontade) */

.drawer,
.list{
  --sb-track: #0b1326;
  --sb-thumb: #2a3b5f;
  --sb-thumb-hover: #3a5586;
  --sb-width: 8px;

  /* Firefox */
  scrollbar-width: thin;
  scrollbar-color: var(--sb-thumb) var(--sb-track);
}

/* WebKit */
.drawer::-webkit-scrollbar,
.list::-webkit-scrollbar{
  width: var(--sb-width);
}
.drawer::-webkit-scrollbar-track,
.list::-webkit-scrollbar-track{
  background: var(--sb-track);
  border-radius: 10px;
}
.drawer::-webkit-scrollbar-thumb,
.list::-webkit-scrollbar-thumb{
  background: var(--sb-thumb);
  border-radius: 10px;
  border: 2px solid var(--sb-track);
}
.drawer::-webkit-scrollbar-thumb:hover,
.list::-webkit-scrollbar-thumb:hover{
  background: var(--sb-thumb-hover);
}

.valueBtn{
  background: transparent;
  border: 0;
  padding: 0;
  cursor: pointer;
  display: inline-flex;
  align-items: baseline;
  gap: 6px;
}

/* inputs num√©ricos menores e sem setinhas */
.inlineNumber{
  appearance: textfield;
  -moz-appearance: textfield;
  width: var(--num-w);   /* üëà controla o tamanho */
  background:#0b1326;
  border:1px solid #22314d;
  color:#fff;
  border-radius:10px;
  padding:6px 10px;      /* pode reduzir p/ 4px 8px se quiser menor ainda */
  font:inherit;
  text-align:center;
  
}
.inlineNumber::-webkit-outer-spin-button,
.inlineNumber::-webkit-inner-spin-button{
  -webkit-appearance:none;
  margin:0;
}

/* deixa claro que d√° pra clicar */
.pagesLine .value,
.pagesLine .total,
.timeLine .value{
  cursor: pointer;
}

.valueBtn{
  background: transparent;
  border: 0;
  padding: 0;
  display: inline-flex;
  align-items: baseline;
  gap: 6px;
  cursor: pointer;
}

/* modal confirma√ß√£o */
.confirmBackdrop{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(1px);
}
.confirmCard{
  position: fixed;
  inset: 0;
  margin: auto;
  width: min(440px, 92vw);
  background: var(--surface, #0f1520);
  border: 1px solid var(--line, rgba(255,255,255,.12));
  border-radius: 14px;
  padding: 16px;
  box-shadow: 0 12px 40px rgba(0,0,0,.45);
  max-height: 80vh;
  overflow: auto;
}
.confirmTitle{
  font-size: 18px;
  margin: 0 0 8px;
}
.confirmText{
  margin: 0 0 12px;
  opacity: .9;
  line-height: 1.35;
}
.rowEnd{
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 6px;
}
.error{
  background: #3b0f0f;
  color: #ffdcdc;
  border: 1px solid #6b1c1c;
  padding: 8px 10px;
  border-radius: 8px;
  margin-bottom: 8px;
  font-size: 0.92rem;
}